{% comment %}
    This template expects to be passed a single variable called "object". The
    object.css and easySlider1.7.js files should also be present in your
    template.
{% endcomment %}
{% block css %}

{% endblock %}
{% block js %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript">
//$(document).ready(function() {
//    $("img").fn.inlineGallery(this);
//});
//(function($) {
//    $.fn.inlineGallery = function() {
//
//        return this.each(function() {
//			
//            $(this).children('.gallery-image').hide();			
//            $(this).children('.gallery-image:first').show();
//			
//            var imgs = Array();
//            $(this).children('.gallery-image').each(function() {
//                imgs.push($(this).attr('id'));
//            });
//            var current = 0; // the index that is currently being shown
//            var prev = current;
//            var max = imgs.length-1;
//
//            function updateImages() {
//                $('#'+imgs[current]).show().addClass('gallery-image-active');
//                $('#'+imgs[prev]).show().removeClass('gallery-image-active');
//            }
//
//            $(this).children('.gallery-controls').children('.gallery-previous').bind('click', function() {
//                prev = current;
//                if(current-1<0) {
//                    current = max;
//                } else {
//                    current -= 1;
//                }
//                updateImages();
//            });
//            $(this).children('.gallery-controls').children('.gallery-next').bind('click', function() {
//                prev = current;
//                if(current+1>max) {
//                    current = 0;
//                } else {
//                    current += 1;
//                }
//                updateImages();
//            });
//        });
//    };
//})(jQuery);
(function($)
{
    $.vari = "$.vari";
    $.fn.vari = "$.fn.vari";

    // $.fn is the object we add our custom functions to
    $.fn.DoSomethingLocal = function()
    {
        return this.each(function()
        {
            alert(this.vari);    // would output `undefined`
            alert($(this).vari); // would output `$.fn.vari`
        });
    };
})(jQuery);

// $ is the main jQuery object, we can attach a global function to it
$.DoSomethingGlobal = function()
{
    alert("Do Something Globally, where `this.vari` = " + this.vari);
};

$(document).ready(function()
{
    $("div").DoSomethingLocal();
    $.DoSomethingGlobal();
});

</script>
{% endblock %}
<h2>{{ object.name }} - {{ object.photos.count }} images</h2>
{% for image in object.photos %}
    {% if forloop.first %}
        <div class="gallery-image:first"><img src="{{ image.main_image.extra_thumbnails.small_square }}" /></div>
    {% endif %}
    <div class="gallery-image"><img src="{{ image.main_image.extra_thumbnails.small_square }}" /></div>
{% endfor %} 
<div class="jqgallery"> 
    <ul>
        {% for image in object.photos %}
		<li>
          <div class="gallery-image"><a href="#" onclick="$.fn.inlineGallery(this);"><img src="{{ image.main_image.extra_thumbnails.small_square }}" /></a></div>
		</li>
        {% endfor %}
    </ul>
</div>